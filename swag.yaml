paths:
  /clients:
    post:
      tags:
      - Client
      summary: Create a new client
      description: Create client using cognito_id, pesel, and other identifiers.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - cognito_id
                - pesel
              properties:
                cognito_id:
                  type: string
                  example: "abc123"
                pesel:
                  type: string
                  example: "90010112345"
                email:
                  type: string
                  format: email
                phone:
                  type: string
      responses:
        "201":
          description: Client created successfully
        "400":
          $ref: '#/components/responses/BadRequest'
        "409":
          $ref: '#/components/responses/Conflict'

  /clients/{id}:
    get:
      tags:
      - Client
      summary: Get client by ID
      parameters:
        - name: id
          in: path
          description: Unique client identifier (UUID)
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Client data retrieved
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Client'
        "404":
          $ref: '#/components/responses/NotFound'

  /clients/cognito/{cognitoId}:
    get:
      tags:
      - Client
      summary: Get client by Cognito ID
      parameters:
        - name: cognitoId
          in: path
          description: Cognito user identifier
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Client data retrieved
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Client'
        "404":
          $ref: '#/components/responses/NotFound'

  /clients/{id}:
    put:
      tags:
      - Client
      summary: Update client (limited fields)
      description: Only allows updating fields present in database (email, phone).
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: Client identifier
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ClientUpdate'
      responses:
        "200":
          description: Client updated successfully
        "400":
          $ref: '#/components/responses/BadRequest'
        "404":
          $ref: '#/components/responses/NotFound'
